http {
    server {
        listen 80;
        server_name load-balancer;

		client_max_body_size 10M;

		# Define custom error pages
    error_page 400 ./hey.html;
    error_page 401 ./hey.html;
    error_page 403 ./hey.html;
    error_page 404 ./hey.html;
    error_page 500 502 503 504 ./hey.html;

        location / {
            proxy_pass http://backend;
            proxy_set_header Host $host;
            proxy_set_header X-Real-IP $remote_addr;
        }
    }
}

# default webserv configuration
# version 0.1

http {
	root ./data/www;

	server {
		listen 8080;
		server_name	webserv.com www.webserv.com;
	}

	server {
		listen 4242; # this one is default for this domain
		server_name	webserv42.io;
		root ./data/www/42;
	}
	server {
		listen 8080;
		server_name	webserv42.io;
		root ./data/www/42;
	}

	server {
		listen 127.0.0.1:8080;
		server_name	localhost;
	}

	server {
		listen 127.0.0.1:4444;
		# implicit -> server_name "";
	}
}
